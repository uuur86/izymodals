{"version":3,"file":"index.modern.js","sources":["../src/index.tsx"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport React, { useEffect, useState } from 'react'\nimport { Dialog } from 'primereact/dialog'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport { Button } from 'primereact/button'\nimport { UniqueComponentId } from 'primereact/utils'\nimport {\n  ButtonPropsInterface,\n  ModalPropsInterface,\n  TabModalWrapPropsInterface\n} from 'izymodals'\nimport PrimeReact from 'primereact'\n\n/**\n * Modals\n */\nexport function ModalBase({\n  buttonLabel = 'Open Modal',\n  buttonConfigs = {},\n  status = false,\n  header = false,\n  footer = false,\n  onClose = () => {},\n  children,\n  ...props\n}: ModalPropsInterface) {\n  const id = UniqueComponentId()\n  const [visible, setVisible] = useState(false)\n\n  const triggerButton = (status: boolean) => {\n    return (\n      <ActionButton\n        onClick={() => !status && setVisible(true)}\n        disabled={status}\n        label={buttonLabel}\n      />\n    )\n  }\n\n  const onHide = () => {\n    onClose()\n    setVisible(false)\n  }\n\n  useEffect(() => {\n    console.log('status', status)\n    setVisible(status)\n  }, [status])\n  //\n\n  const dialog = (visible: boolean) => {\n    const footerProps =\n      (buttonConfigs?.footer && ButtonsTemplate(buttonConfigs.footer)) || footer\n    const HeaderProps =\n      (buttonConfigs?.header && ButtonsTemplate(buttonConfigs.header)) || header\n    return (\n      <Dialog\n        contentStyle={{ width: 'auto' }}\n        visible={visible}\n        closable\n        id={id}\n        onHide={onHide}\n        footer={footerProps}\n        header={HeaderProps}\n        closeOnEscape\n        {...props}\n      >\n        {children}\n      </Dialog>\n    )\n  }\n\n  function ButtonsTemplate(\n    configs: ButtonPropsInterface[]\n  ): PrimeReact.DialogTemplateType {\n    if (!Array.isArray(configs) || configs.length < 1) {\n      return null\n    }\n    const buttons = configs.map((button: any, index: number) => {\n      button = Object.fromEntries(\n        Object.entries(button).filter(([key, value]) => key && value)\n      )\n\n      return (\n        <ActionButton\n          {...button}\n          onClick={() => {\n            setVisible(false)\n\n            button.onClick()\n          }}\n          hide={button.hide}\n          key={index}\n        />\n      )\n    })\n\n    return <div className='p-dialog'>{buttons}</div>\n  }\n\n  return (\n    <div>\n      {triggerButton(visible)}\n      {dialog(visible)}\n    </div>\n  )\n}\n\nexport function Modal({ children, ...props }: ModalPropsInterface) {\n  return (\n    <div>\n      <ModalBase {...props}>{children}</ModalBase>\n    </div>\n  )\n}\n\nexport function ActionButton({ ...props }) {\n  const promptId = UniqueComponentId(`propmt-button-${props?.name || ''}`)\n  return <Button {...props} id={promptId} name={props?.name} />\n}\n\nexport function PromptModal({\n  buttonLabel = 'Open',\n  labelYes = 'Yes',\n  labelNo = 'No',\n  onYes,\n  onNo,\n  children\n}: ModalPropsInterface) {\n  const handler = (answer: 'yes' | 'no') =>\n    answer === 'yes' ? onYes && onYes() : onNo && onNo()\n\n  const modalBase = (\n    <ModalBase\n      status={false}\n      buttonLabel={buttonLabel}\n      buttonConfigs={{\n        footer: [\n          {\n            label: labelYes,\n            className: 'bg-green-100 text-green-700 align-right',\n            onClick: () => handler('yes'),\n            hide: false\n          },\n          {\n            label: labelNo,\n            className: 'bg-pink-100 text-pink-700 align-left',\n            onClick: () => handler('no'),\n            hide: false\n          }\n        ]\n      }}\n    >\n      {children}\n    </ModalBase>\n  )\n\n  return <div>{modalBase}</div>\n}\n\nexport function TabModalWrapper({\n  steps = [],\n  children\n}: ModalPropsInterface): any {\n  const tabList = (\n    <div>\n      <TabList>\n        {steps.map((step: any, index: number) => {\n          const fieldDisabled = !!step.disabled\n          return (\n            <Tab\n              key={index}\n              disabled={fieldDisabled}\n              style={\n                fieldDisabled\n                  ? {\n                      cursor: 'not-allowed',\n                      opacity: 0.5\n                    }\n                  : {}\n              }\n            >\n              {step.label}\n            </Tab>\n          )\n        })}\n      </TabList>\n    </div>\n  )\n\n  const tabPanels = steps.map((step: any, index: number) => (\n    <TabPanel key={index}>{step.content(step.params || null)}</TabPanel>\n  ))\n\n  return children({ tabList, tabPanels, stepData: steps })\n}\n\nexport function TabModal({\n  status = false,\n  tabIndex: tabInd = 0,\n  footer,\n  children,\n  ...props\n}: ModalPropsInterface) {\n  const [tabIndex, setTabIndex] = useState(tabInd)\n\n  return (\n    <div>\n      <ModalBase status={status}>\n        <TabModalWrapper {...props}>\n          {({ tabList, tabPanels }: TabModalWrapPropsInterface) => {\n            return (\n              <div className='mt-5 flex'>\n                <Tabs\n                  selectedIndex={tabIndex}\n                  onSelect={(index: number) => setTabIndex(index)}\n                >\n                  {children({ tabList, tabPanels })}\n                </Tabs>\n              </div>\n            )\n          }}\n        </TabModalWrapper>\n      </ModalBase>\n    </div>\n  )\n}\n\n// Path: src\\components\\modals\\index.tsx\nexport default {\n  Modal,\n  TabModal,\n  PromptModal,\n\n  ActionButton\n}\n"],"names":["ModalBase","buttonLabel","buttonConfigs","status","header","footer","onClose","children","props","id","UniqueComponentId","visible","setVisible","useState","triggerButton","React","ActionButton","onClick","disabled","label","onHide","useEffect","console","log","dialog","footerProps","ButtonsTemplate","HeaderProps","Dialog","contentStyle","width","closable","closeOnEscape","configs","Array","isArray","length","buttons","map","button","index","Object","fromEntries","entries","filter","key","value","hide","className","Modal","promptId","name","Button","PromptModal","labelYes","labelNo","onYes","onNo","handler","answer","modalBase","TabModalWrapper","steps","tabList","TabList","step","fieldDisabled","Tab","style","cursor","opacity","tabPanels","TabPanel","content","params","stepData","TabModal","tabIndex","tabInd","setTabIndex","Tabs","selectedIndex","onSelect"],"mappings":";;;;;;SAgBgBA,SAAS,CAAC;EACxBC,WAAW,GAAG,YAAY;EAC1BC,aAAa,GAAG,EAAE;EAClBC,MAAM,GAAG,KAAK;EACdC,MAAM,GAAG,KAAK;EACdC,MAAM,GAAG,KAAK;EACdC,OAAO,GAAG,QAAQ;EAClBC,QAAQ;EACR,GAAGC;CACiB;EACpB,MAAMC,EAAE,GAAGC,iBAAiB,EAAE;EAC9B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGC,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMC,aAAa,GAAIX,MAAe;IACpC,OACEY,oBAACC,YAAY;MACXC,OAAO,EAAE,MAAM,CAACd,MAAM,IAAIS,UAAU,CAAC,IAAI,CAAC;MAC1CM,QAAQ,EAAEf,MAAM;MAChBgB,KAAK,EAAElB;MACP;GAEL;EAED,MAAMmB,MAAM,GAAG;IACbd,OAAO,EAAE;IACTM,UAAU,CAAC,KAAK,CAAC;GAClB;EAEDS,SAAS,CAAC;IACRC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEpB,MAAM,CAAC;IAC7BS,UAAU,CAACT,MAAM,CAAC;GACnB,EAAE,CAACA,MAAM,CAAC,CAAC;EAGZ,MAAMqB,MAAM,GAAIb,OAAgB;IAC9B,MAAMc,WAAW,GACd,CAAAvB,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEG,MAAM,KAAIqB,eAAe,CAACxB,aAAa,CAACG,MAAM,CAAC,IAAKA,MAAM;IAC5E,MAAMsB,WAAW,GACd,CAAAzB,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEE,MAAM,KAAIsB,eAAe,CAACxB,aAAa,CAACE,MAAM,CAAC,IAAKA,MAAM;IAC5E,OACEW,oBAACa,MAAM;MACLC,YAAY,EAAE;QAAEC,KAAK,EAAE;OAAQ;MAC/BnB,OAAO,EAAEA,OAAO;MAChBoB,QAAQ;MACRtB,EAAE,EAAEA,EAAE;MACNW,MAAM,EAAEA,MAAM;MACdf,MAAM,EAAEoB,WAAW;MACnBrB,MAAM,EAAEuB,WAAW;MACnBK,aAAa;OACTxB,KAAK,GAERD,QAAQ,CACF;GAEZ;EAED,SAASmB,eAAe,CACtBO,OAA+B;IAE/B,IAAI,CAACC,KAAK,CAACC,OAAO,CAACF,OAAO,CAAC,IAAIA,OAAO,CAACG,MAAM,GAAG,CAAC,EAAE;MACjD,OAAO,IAAI;;IAEb,MAAMC,OAAO,GAAGJ,OAAO,CAACK,GAAG,CAAC,CAACC,MAAW,EAAEC,KAAa;MACrDD,MAAM,GAAGE,MAAM,CAACC,WAAW,CACzBD,MAAM,CAACE,OAAO,CAACJ,MAAM,CAAC,CAACK,MAAM,CAAC,CAAC,CAACC,GAAG,EAAEC,KAAK,CAAC,KAAKD,GAAG,IAAIC,KAAK,CAAC,CAC9D;MAED,OACE/B,oBAACC,YAAY,oBACPuB,MAAM;QACVtB,OAAO,EAAE;UACPL,UAAU,CAAC,KAAK,CAAC;UAEjB2B,MAAM,CAACtB,OAAO,EAAE;SACjB;QACD8B,IAAI,EAAER,MAAM,CAACQ,IAAI;QACjBF,GAAG,EAAEL;SACL;KAEL,CAAC;IAEF,OAAOzB;MAAKiC,SAAS,EAAC;OAAYX,OAAO,CAAO;;EAGlD,OACEtB,iCACGD,aAAa,CAACH,OAAO,CAAC,EACtBa,MAAM,CAACb,OAAO,CAAC,CACZ;AAEV;SAEgBsC,KAAK,CAAC;EAAE1C,QAAQ;EAAE,GAAGC;CAA4B;EAC/D,OACEO,iCACEA,oBAACf,SAAS,oBAAKQ,KAAK,GAAGD,QAAQ,CAAa,CACxC;AAEV;SAEgBS,YAAY,CAAC;EAAE,GAAGR;CAAO;EACvC,MAAM0C,QAAQ,GAAGxC,iBAAiB,kBAAkB,CAAAF,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE2C,IAAI,KAAI,IAAI,CAAC;EACxE,OAAOpC,oBAACqC,MAAM,oBAAK5C,KAAK;IAAEC,EAAE,EAAEyC,QAAQ;IAAEC,IAAI,EAAE3C,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE2C;KAAQ;AAC/D;SAEgBE,WAAW,CAAC;EAC1BpD,WAAW,GAAG,MAAM;EACpBqD,QAAQ,GAAG,KAAK;EAChBC,OAAO,GAAG,IAAI;EACdC,KAAK;EACLC,IAAI;EACJlD;CACoB;EACpB,MAAMmD,OAAO,GAAIC,MAAoB,IACnCA,MAAM,KAAK,KAAK,GAAGH,KAAK,IAAIA,KAAK,EAAE,GAAGC,IAAI,IAAIA,IAAI,EAAE;EAEtD,MAAMG,SAAS,GACb7C,oBAACf,SAAS;IACRG,MAAM,EAAE,KAAK;IACbF,WAAW,EAAEA,WAAW;IACxBC,aAAa,EAAE;MACbG,MAAM,EAAE,CACN;QACEc,KAAK,EAAEmC,QAAQ;QACfN,SAAS,EAAE,yCAAyC;QACpD/B,OAAO,EAAE,MAAMyC,OAAO,CAAC,KAAK,CAAC;QAC7BX,IAAI,EAAE;OACP,EACD;QACE5B,KAAK,EAAEoC,OAAO;QACdP,SAAS,EAAE,sCAAsC;QACjD/B,OAAO,EAAE,MAAMyC,OAAO,CAAC,IAAI,CAAC;QAC5BX,IAAI,EAAE;OACP;;KAIJxC,QAAQ,CAEZ;EAED,OAAOQ,iCAAM6C,SAAS,CAAO;AAC/B;SAEgBC,eAAe,CAAC;EAC9BC,KAAK,GAAG,EAAE;EACVvD;CACoB;EACpB,MAAMwD,OAAO,GACXhD,iCACEA,oBAACiD,OAAO,QACLF,KAAK,CAACxB,GAAG,CAAC,CAAC2B,IAAS,EAAEzB,KAAa;IAClC,MAAM0B,aAAa,GAAG,CAAC,CAACD,IAAI,CAAC/C,QAAQ;IACrC,OACEH,oBAACoD,GAAG;MACFtB,GAAG,EAAEL,KAAK;MACVtB,QAAQ,EAAEgD,aAAa;MACvBE,KAAK,EACHF,aAAa,GACT;QACEG,MAAM,EAAE,aAAa;QACrBC,OAAO,EAAE;OACV,GACD;OAGLL,IAAI,CAAC9C,KAAK,CACP;GAET,CAAC,CACM,CAEb;EAED,MAAMoD,SAAS,GAAGT,KAAK,CAACxB,GAAG,CAAC,CAAC2B,IAAS,EAAEzB,KAAa,KACnDzB,oBAACyD,QAAQ;IAAC3B,GAAG,EAAEL;KAAQyB,IAAI,CAACQ,OAAO,CAACR,IAAI,CAACS,MAAM,IAAI,IAAI,CAAC,CACzD,CAAC;EAEF,OAAOnE,QAAQ,CAAC;IAAEwD,OAAO;IAAEQ,SAAS;IAAEI,QAAQ,EAAEb;GAAO,CAAC;AAC1D;SAEgBc,QAAQ,CAAC;EACvBzE,MAAM,GAAG,KAAK;EACd0E,QAAQ,EAAEC,MAAM,GAAG,CAAC;EACpBzE,MAAM;EACNE,QAAQ;EACR,GAAGC;CACiB;EACpB,MAAM,CAACqE,QAAQ,EAAEE,WAAW,CAAC,GAAGlE,QAAQ,CAACiE,MAAM,CAAC;EAEhD,OACE/D,iCACEA,oBAACf,SAAS;IAACG,MAAM,EAAEA;KACjBY,oBAAC8C,eAAe,oBAAKrD,KAAK,GACvB,CAAC;IAAEuD,OAAO;IAAEQ;GAAuC;IAClD,OACExD;MAAKiC,SAAS,EAAC;OACbjC,oBAACiE,IAAI;MACHC,aAAa,EAAEJ,QAAQ;MACvBK,QAAQ,EAAG1C,KAAa,IAAKuC,WAAW,CAACvC,KAAK;OAE7CjC,QAAQ,CAAC;MAAEwD,OAAO;MAAEQ;KAAW,CAAC,CAC5B,CACH;GAET,CACe,CACR,CACR;AAEV;AAGA,YAAe;EACbtB,KAAK;EACL2B,QAAQ;EACRvB,WAAW;EAEXrC;CACD;;;;;"}