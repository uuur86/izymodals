{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport React, { useEffect, useState } from 'react'\nimport { Dialog } from 'primereact/dialog'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport { Button } from 'primereact/button'\nimport { UniqueComponentId } from 'primereact/utils'\nimport {\n  ButtonPropsInterface,\n  ModalPropsInterface,\n  TabModalWrapPropsInterface\n} from 'izymodals'\nimport PrimeReact from 'primereact'\n\n/**\n * Modals\n */\nexport function ModalBase({\n  buttonLabel = 'Open Modal',\n  buttonConfigs = {},\n  status = false,\n  header = false,\n  footer = false,\n  onClose = () => {},\n  children,\n  ...props\n}: ModalPropsInterface) {\n  const id = UniqueComponentId()\n  const [visible, setVisible] = useState(false)\n\n  const triggerButton = (status: boolean) => {\n    return (\n      <ActionButton\n        onClick={() => !status && setVisible(true)}\n        disabled={status}\n        label={buttonLabel}\n      />\n    )\n  }\n\n  const onHide = () => {\n    onClose()\n    setVisible(false)\n  }\n\n  useEffect(() => {\n    console.log('status', status)\n    setVisible(status)\n  }, [status])\n  //\n\n  const dialog = (visible: boolean) => {\n    const footerProps =\n      (buttonConfigs?.footer && ButtonsTemplate(buttonConfigs.footer)) || footer\n    const HeaderProps =\n      (buttonConfigs?.header && ButtonsTemplate(buttonConfigs.header)) || header\n    return (\n      <Dialog\n        contentStyle={{ width: 'auto' }}\n        visible={visible}\n        closable\n        id={id}\n        onHide={onHide}\n        footer={footerProps}\n        header={HeaderProps}\n        closeOnEscape\n        {...props}\n      >\n        {children}\n      </Dialog>\n    )\n  }\n\n  function ButtonsTemplate(\n    configs: ButtonPropsInterface[]\n  ): PrimeReact.DialogTemplateType {\n    if (!Array.isArray(configs) || configs.length < 1) {\n      return null\n    }\n    const buttons = configs.map((button: any, index: number) => {\n      button = Object.fromEntries(\n        Object.entries(button).filter(([key, value]) => key && value)\n      )\n\n      return (\n        <ActionButton\n          {...button}\n          onClick={() => {\n            setVisible(false)\n\n            button.onClick()\n          }}\n          hide={button.hide}\n          key={index}\n        />\n      )\n    })\n\n    return <div className='p-dialog'>{buttons}</div>\n  }\n\n  return (\n    <div>\n      {triggerButton(visible)}\n      {dialog(visible)}\n    </div>\n  )\n}\n\nexport function Modal({ children, ...props }: ModalPropsInterface) {\n  return (\n    <div>\n      <ModalBase {...props}>{children}</ModalBase>\n    </div>\n  )\n}\n\nexport function ActionButton({ ...props }) {\n  const promptId = UniqueComponentId(`propmt-button-${props?.name || ''}`)\n  return <Button {...props} id={promptId} name={props?.name} />\n}\n\nexport function PromptModal({\n  buttonLabel = 'Open',\n  labelYes = 'Yes',\n  labelNo = 'No',\n  onYes,\n  onNo,\n  children\n}: ModalPropsInterface) {\n  const handler = (answer: 'yes' | 'no') =>\n    answer === 'yes' ? onYes && onYes() : onNo && onNo()\n\n  const modalBase = (\n    <ModalBase\n      status={false}\n      buttonLabel={buttonLabel}\n      buttonConfigs={{\n        footer: [\n          {\n            label: labelYes,\n            className: 'bg-green-100 text-green-700 align-right',\n            onClick: () => handler('yes'),\n            hide: false\n          },\n          {\n            label: labelNo,\n            className: 'bg-pink-100 text-pink-700 align-left',\n            onClick: () => handler('no'),\n            hide: false\n          }\n        ]\n      }}\n    >\n      {children}\n    </ModalBase>\n  )\n\n  return <div>{modalBase}</div>\n}\n\nexport function TabModalWrapper({\n  steps = [],\n  children\n}: ModalPropsInterface): any {\n  const tabList = (\n    <div>\n      <TabList>\n        {steps.map((step: any, index: number) => {\n          const fieldDisabled = !!step.disabled\n          return (\n            <Tab\n              key={index}\n              disabled={fieldDisabled}\n              style={\n                fieldDisabled\n                  ? {\n                      cursor: 'not-allowed',\n                      opacity: 0.5\n                    }\n                  : {}\n              }\n            >\n              {step.label}\n            </Tab>\n          )\n        })}\n      </TabList>\n    </div>\n  )\n\n  const tabPanels = steps.map((step: any, index: number) => (\n    <TabPanel key={index}>{step.content(step.params || null)}</TabPanel>\n  ))\n\n  return children({ tabList, tabPanels, stepData: steps })\n}\n\nexport function TabModal({\n  status = false,\n  tabIndex: tabInd = 0,\n  footer,\n  children,\n  ...props\n}: ModalPropsInterface) {\n  const [tabIndex, setTabIndex] = useState(tabInd)\n\n  return (\n    <div>\n      <ModalBase status={status}>\n        <TabModalWrapper {...props}>\n          {({ tabList, tabPanels }: TabModalWrapPropsInterface) => {\n            return (\n              <div className='mt-5 flex'>\n                <Tabs\n                  selectedIndex={tabIndex}\n                  onSelect={(index: number) => setTabIndex(index)}\n                >\n                  {children({ tabList, tabPanels })}\n                </Tabs>\n              </div>\n            )\n          }}\n        </TabModalWrapper>\n      </ModalBase>\n    </div>\n  )\n}\n\n// Path: src\\components\\modals\\index.tsx\nexport default {\n  Modal,\n  TabModal,\n  PromptModal,\n\n  ActionButton\n}\n"],"names":["ModalBase","buttonLabel","buttonConfigs","status","header","footer","onClose","children","props","id","UniqueComponentId","useState","visible","setVisible","triggerButton","React","ActionButton","onClick","disabled","label","onHide","useEffect","console","log","dialog","footerProps","ButtonsTemplate","HeaderProps","Dialog","contentStyle","width","closable","closeOnEscape","configs","Array","isArray","length","buttons","map","button","index","Object","fromEntries","entries","filter","key","value","hide","className","Modal","promptId","name","Button","PromptModal","labelYes","labelNo","onYes","onNo","handler","answer","modalBase","TabModalWrapper","steps","tabList","TabList","step","fieldDisabled","Tab","style","cursor","opacity","tabPanels","TabPanel","content","params","stepData","TabModal","tabIndex","tabInd","setTabIndex","Tabs","selectedIndex","onSelect"],"mappings":"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"}