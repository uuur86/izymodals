{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport React from 'react'\nimport { Dialog } from 'primereact/dialog'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport { Button } from 'primereact/button'\nimport { UniqueComponentId } from 'primereact/utils'\nimport {\n  ButtonPropsInterface,\n  ModalPropsInterface,\n  PromptModalPropsInterface,\n  TabModalPropsInterface,\n  TabModalWrapPropsInterface\n} from 'izymodals'\nimport PrimeReact from 'primereact'\nimport 'react-tabs/style/react-tabs.css'\nimport 'primeicons/primeicons.css'\nimport 'primeflex/primeflex.min.css'\nimport 'primereact/resources/primereact.min.css'\n/**\n * Modals\n */\nexport function ModalBase({\n  buttonLabel = 'Open Modal',\n  buttonConfigs = {},\n  status = false,\n  header = false,\n  footer = false,\n  onClose = () => {},\n  children,\n  ...props\n}: ModalPropsInterface) {\n  const id = UniqueComponentId()\n  const [visible, setVisible] = React.useState(false)\n\n  const triggerButton = (status: boolean) => {\n    return (\n      <ActionButton\n        onClick={() => !status && setVisible(true)}\n        disabled={status}\n        label={buttonLabel}\n      />\n    )\n  }\n\n  const onHide = () => {\n    onClose()\n    setVisible(false)\n  }\n\n  const dialog = (visible: boolean) => {\n    const footerProps =\n      (buttonConfigs?.footer && ButtonsTemplate(buttonConfigs.footer)) || footer\n    const HeaderProps =\n      (buttonConfigs?.header && ButtonsTemplate(buttonConfigs.header)) || header\n    return (\n      <Dialog\n        contentStyle={{ width: 'auto' }}\n        visible={visible}\n        closable\n        id={id}\n        onHide={onHide}\n        footer={footerProps}\n        header={HeaderProps}\n        closeOnEscape\n        {...props}\n      >\n        {children}\n      </Dialog>\n    )\n  }\n\n  function ButtonsTemplate(\n    configs: ButtonPropsInterface[]\n  ): PrimeReact.DialogTemplateType {\n    if (!Array.isArray(configs) || configs.length < 1) {\n      return null\n    }\n    const buttons = configs.map((button: any, index: number) => {\n      button = Object.fromEntries(\n        Object.entries(button).filter(([key, value]) => key && value)\n      )\n\n      return (\n        <ActionButton\n          {...button}\n          onClick={() => {\n            setVisible(false)\n\n            button.onClick()\n          }}\n          hide={button.hide}\n          key={index}\n        />\n      )\n    })\n\n    return <div className='p-dialog'>{buttons}</div>\n  }\n\n  return (\n    <div>\n      {triggerButton(visible)}\n      {dialog(visible)}\n    </div>\n  )\n}\n\nexport function Modal({ children, ...props }: ModalPropsInterface) {\n  return (\n    <div>\n      <ModalBase {...props}>{children}</ModalBase>\n    </div>\n  )\n}\n\nexport function ActionButton({ ...props }) {\n  const promptId = UniqueComponentId(`propmt-button-${props?.name || ''}`)\n  return <Button {...props} id={promptId} name={props?.name} />\n}\n\nexport function PromptModal({\n  buttonLabel = 'Open',\n  labelYes = 'Yes',\n  labelNo = 'No',\n  onYes,\n  onNo,\n  children\n}: PromptModalPropsInterface) {\n  const handler = (answer: 'yes' | 'no') =>\n    answer === 'yes' ? onYes && onYes() : onNo && onNo()\n\n  const modalBase = (\n    <ModalBase\n      status={false}\n      buttonLabel={buttonLabel}\n      buttonConfigs={{\n        footer: [\n          {\n            label: labelYes,\n            className: 'bg-green-100 text-green-700 align-right',\n            onClick: () => handler('yes'),\n            hide: false\n          },\n          {\n            label: labelNo,\n            className: 'bg-pink-100 text-pink-700 align-left',\n            onClick: () => handler('no'),\n            hide: false\n          }\n        ]\n      }}\n    >\n      {children}\n    </ModalBase>\n  )\n\n  return <div>{modalBase}</div>\n}\n\nexport function TabModalWrapper(props: TabModalPropsInterface) {\n  const { steps = [], children } = props\n  const tabList = (\n    <div>\n      <TabList>\n        {steps.map((step: any, index: number) => {\n          const fieldDisabled = !!step.disabled\n          return (\n            <Tab\n              key={index}\n              disabled={fieldDisabled}\n              style={\n                fieldDisabled\n                  ? {\n                      cursor: 'not-allowed',\n                      opacity: 0.5\n                    }\n                  : {}\n              }\n            >\n              {step.label}\n            </Tab>\n          )\n        })}\n      </TabList>\n    </div>\n  )\n\n  const tabPanels = steps.map((step: any, index: number) => (\n    <TabPanel key={index}>{step.content(step.params || null)}</TabPanel>\n  ))\n\n  return children({ tabList, tabPanels, stepData: steps })\n}\n\nexport function TabModal({\n  status = false,\n  footer,\n  children,\n  ...props\n}: TabModalPropsInterface) {\n  const defaultIndex = props?.tabIndex || 0\n  const [tabIndex, setTabIndex] = React.useState(defaultIndex)\n\n  return (\n    <div>\n      <ModalBase status={status}>\n        <TabModalWrapper {...props}>\n          {({ tabList, tabPanels }: TabModalWrapPropsInterface) => {\n            return (\n              <div className='mt-5 flex'>\n                <Tabs\n                  selectedIndex={tabIndex}\n                  onSelect={(index: number) => setTabIndex(index)}\n                >\n                  {children({ tabList, tabPanels })}\n                </Tabs>\n              </div>\n            )\n          }}\n        </TabModalWrapper>\n      </ModalBase>\n    </div>\n  )\n}\n\nexport default {\n  Modal,\n  ModalBase,\n  TabModal,\n  PromptModal,\n\n  ActionButton\n}\n"],"names":["ModalBase","buttonLabel","buttonConfigs","header","footer","onClose","children","props","id","UniqueComponentId","React","useState","visible","setVisible","triggerButton","status","ActionButton","onClick","disabled","label","onHide","dialog","footerProps","ButtonsTemplate","HeaderProps","Dialog","contentStyle","width","closable","closeOnEscape","configs","Array","isArray","length","buttons","map","button","index","Object","fromEntries","entries","filter","key","value","hide","className","Modal","promptId","name","Button","PromptModal","labelYes","labelNo","onYes","onNo","handler","answer","modalBase","TabModalWrapper","steps","tabList","TabList","step","fieldDisabled","Tab","style","cursor","opacity","tabPanels","TabPanel","content","params","stepData","TabModal","defaultIndex","tabIndex","setTabIndex","Tabs","selectedIndex","onSelect"],"mappings":"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"}